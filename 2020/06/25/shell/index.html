<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>shell 相关 | Silicon Walker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="本文记录常用linux操作相关。">
<meta property="og:type" content="article">
<meta property="og:title" content="shell 相关">
<meta property="og:url" content="http://example.com/2020/06/25/shell/index.html">
<meta property="og:site_name" content="Silicon Walker">
<meta property="og:description" content="本文记录常用linux操作相关。">
<meta property="og:locale">
<meta property="og:image" content="https://raw.githubusercontent.com/Guoshaocheng/image_hosting/master/img1589781183714.png">
<meta property="article:published_time" content="2020-06-24T16:00:00.000Z">
<meta property="article:modified_time" content="2025-02-07T03:54:10.080Z">
<meta property="article:author" content="guoshaocheng">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="shell">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Guoshaocheng/image_hosting/master/img1589781183714.png">
  
    <link rel="alternate" href="/atom.xml" title="Silicon Walker" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Silicon Walker</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Suche"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-shell" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/06/25/shell/" class="article-date">
  <time class="dt-published" datetime="2020-06-24T16:00:00.000Z" itemprop="datePublished">2020-06-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      shell 相关
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>本文记录常用linux操作相关。</p>
<span id="more"></span>

<h1 id="任务管理"><a href="#任务管理" class="headerlink" title="任务管理"></a>任务管理</h1><h2 id="bjobs-bkill"><a href="#bjobs-bkill" class="headerlink" title="bjobs&#x2F;bkill"></a>bjobs&#x2F;bkill</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bjobs -h</span><br><span class="line">bkill -h</span><br></pre></td></tr></table></figure>

<h1 id="查看linux发行版"><a href="#查看linux发行版" class="headerlink" title="查看linux发行版"></a>查看linux发行版</h1><h2 id="查看linux内核版本"><a href="#查看linux内核版本" class="headerlink" title="查看linux内核版本"></a>查看linux内核版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> /proc/version</span><br><span class="line">Linux version 2.6.32-754.el6.x86_64 (mockbuild@x86-033.build.eng.bos.redhat.com) (gcc version 4.4.7 20120313 (Red Hat 4.4.7-23) (GCC) ) <span class="comment">#1 SMP Thu May 24 18:18:25 EDT 2018</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">uname</span> -a</span><br><span class="line">Linux soclogin05 2.6.32-754.el6.x86_64 <span class="comment">#1 SMP Thu May 24 18:18:25 EDT 2018 x86_64 x86_64 x86_64 GNU/Linux</span></span><br></pre></td></tr></table></figure>

<h2 id="查看linux系统版本"><a href="#查看linux系统版本" class="headerlink" title="查看linux系统版本"></a>查看linux系统版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ lsb_release -a</span><br><span class="line">shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory</span><br><span class="line">LSB Version:	:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch</span><br><span class="line">Distributor ID:	RedHatEnterpriseServer</span><br><span class="line">Description:	Red Hat Enterprise Linux Server release 6.10 (Santiago)</span><br><span class="line">Release:	6.10</span><br><span class="line">Codename:	Santiago</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> /etc/redhat-release</span><br><span class="line">Red Hat Enterprise Linux Server release 6.10 (Santiago)</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> /etc/issue</span><br><span class="line">Red Hat Enterprise Linux Server release 6.10 (Santiago)</span><br><span class="line">Kernel \r on an \m</span><br></pre></td></tr></table></figure>

<h1 id="shell模式-vi-emacs"><a href="#shell模式-vi-emacs" class="headerlink" title="shell模式(vi&#x2F;emacs)"></a>shell模式(vi&#x2F;emacs)</h1><h2 id="bash-下的设置"><a href="#bash-下的设置" class="headerlink" title="bash 下的设置"></a>bash 下的设置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -o        <span class="comment">## 查看当前的设置 </span></span><br><span class="line"><span class="built_in">set</span> -o vi     <span class="comment">## 设置为 vi 模式</span></span><br><span class="line"><span class="built_in">set</span> -o emacs  <span class="comment">## 设置为 emacs 模式</span></span><br><span class="line"><span class="comment">## 以下所有的快捷键都是在 emacs 模式下的操作</span></span><br><span class="line"><span class="comment">## vi 模式下的操作与 vim 编辑器操作相同</span></span><br></pre></td></tr></table></figure>

<h2 id="cshell-下的设置"><a href="#cshell-下的设置" class="headerlink" title="cshell 下的设置"></a>cshell 下的设置</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bindkey -a    ## 查看当前所有的bindkey的设置</span><br><span class="line">bindkey -v    ## 设置命令行为vi模式</span><br><span class="line">bindkey -e    ## 设置命令行为emacs模式</span><br></pre></td></tr></table></figure>

<h1 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h1><p>基本原则：与 Ctrl 有关的组合键作用于单个<code>字符</code>，与 Alt 有关的组合键作用于单个 <code>单词</code>。</p>
<h2 id="快速移动"><a href="#快速移动" class="headerlink" title="快速移动"></a>快速移动</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Ctrl-a  <span class="comment">## 光标移动到行首</span></span><br><span class="line">Ctrl-e  <span class="comment">## 光标移动到行尾</span></span><br><span class="line"></span><br><span class="line">Ctrl-f  <span class="comment">## 光标向右移动一个字符</span></span><br><span class="line">Alt-f   <span class="comment">## 光标向右移动一个单词</span></span><br><span class="line">Ctrl-b  <span class="comment">## 光标向左移动一个字符</span></span><br><span class="line">Alt-b   <span class="comment">## 光标向左移动一个单词</span></span><br><span class="line"></span><br><span class="line">Ctrl-xx <span class="comment">## 在光标在当前位置与行首之前来回切换</span></span><br></pre></td></tr></table></figure>

<h2 id="删除字符"><a href="#删除字符" class="headerlink" title="删除字符"></a>删除字符</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Ctrl-h         <span class="comment">## 向左删除一个字符，相当于 Backspace</span></span><br><span class="line">Ctrl-d         <span class="comment">## 向右删除一个字符</span></span><br><span class="line"></span><br><span class="line">Alt-backspace  <span class="comment">## 删除从当前位置到当前词首的所有内容</span></span><br><span class="line">ctrl-w         <span class="comment">## 删除从当前位置到当前词首的所有内容(分隔符不同？)</span></span><br><span class="line">Alt-d          <span class="comment">## 删除从当前位置到当前词尾的所有内容</span></span><br><span class="line"></span><br><span class="line">Ctrl-k         <span class="comment">## 删除当前光标右边所有字符</span></span><br><span class="line">Ctrl-u         <span class="comment">## 清空整行所有字符</span></span><br><span class="line"></span><br><span class="line">Ctrl-y         <span class="comment">## 粘贴上次删除的字符</span></span><br></pre></td></tr></table></figure>

<h2 id="改变字符位置"><a href="#改变字符位置" class="headerlink" title="改变字符位置"></a>改变字符位置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ctrl-t  <span class="comment">## 交换当前字母和其前一个字母</span></span><br><span class="line">ALt-t   <span class="comment">## 交换光标两边的单词，应该是交换光标所在单词和其左侧单词的位置</span></span><br></pre></td></tr></table></figure>

<h2 id="转换大小写"><a href="#转换大小写" class="headerlink" title="转换大小写"></a>转换大小写</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Alt-c  <span class="comment">## 将光标所在位置字母（光标后面的单词）转换为大写</span></span><br><span class="line">       <span class="comment">## 若光标不在单词中，则将光标后的字母转换为大写</span></span><br><span class="line">       <span class="comment">## 即使原来的单词是全部大写，或者大小写混合，该操作之后结果是光标后第一个字母大写，光标后当前单词其余部分全部小写</span></span><br><span class="line">       <span class="comment">## 如 AbC|dEfGGhh -&gt; AbCDefgghh|</span></span><br><span class="line">       <span class="comment">## 转换完之后光标自动移动到词尾</span></span><br><span class="line">       </span><br><span class="line">Alt-u  <span class="comment">## 将光标所在位置到词尾的所有字母转换为大写</span></span><br><span class="line">Alt-l  <span class="comment">## 将光标所在位置到词尾的所有字母转换为小写</span></span><br></pre></td></tr></table></figure>

<h2 id="上条命令最后一个参数"><a href="#上条命令最后一个参数" class="headerlink" title="上条命令最后一个参数"></a>上条命令最后一个参数</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+p  <span class="comment">##向上翻历史命令</span></span><br><span class="line">Ctrl+n  <span class="comment">##向下翻历史命令</span></span><br><span class="line"></span><br><span class="line">Alt+_，即 Alt+<span class="built_in">shift</span>+-  <span class="comment">## 使用上一个命令的最后一个参数，很常用，很高效</span></span><br><span class="line"></span><br><span class="line">Ctrl-m                <span class="comment">## 相当于回车键</span></span><br><span class="line"></span><br><span class="line">Alt-数字（可正可负）</span><br><span class="line"><span class="comment">## 如果后面接字符，表示倍数，如 [Alt-10，k] 会插入10个k字符</span></span><br><span class="line"><span class="comment">## 如果后面接命令，则表示该命令作用的字符位置。</span></span><br><span class="line"><span class="comment">## 如 Alt-(-10)，Alt-c 表示将当前字符左侧第10个字符转换为大写</span></span><br><span class="line"><span class="comment">## 在有多个tab页的情况下无效，alt用于切换tab</span></span><br></pre></td></tr></table></figure>

<h1 id="Bang-命令"><a href="#Bang-命令" class="headerlink" title="Bang 命令"></a>Bang 命令</h1><h2 id="执行上条命令"><a href="#执行上条命令" class="headerlink" title="执行上条命令"></a>执行上条命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">!!        <span class="comment">## 执行上一条命令</span></span><br><span class="line">!xx       <span class="comment">## 执行最近一条以 xx 开头的命令</span></span><br><span class="line">^xx       <span class="comment">## 删除上一条命令中的 xx</span></span><br><span class="line">^xx^yy    <span class="comment">## 将上一条命令中的第一个 xx 替换为 yy</span></span><br><span class="line">^xx^yy^   <span class="comment">## 将上一条命令中的所有 xx 替换为 yy</span></span><br><span class="line">!$        <span class="comment">## 上条命令的最后一个参数</span></span><br><span class="line">!*        <span class="comment">## 上条命令的所有参数</span></span><br></pre></td></tr></table></figure>

<h2 id="打印上条命令"><a href="#打印上条命令" class="headerlink" title="打印上条命令"></a>打印上条命令</h2><p>上述所有命令都适用次规则：在其后加上 <code>:p</code> 可以将处理之后的命令打印到屏幕上。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">!xx:p       ## 打印最近一条以 xx 开头的命令，而不执行</span><br><span class="line">^xx^yy^:p   ## 将上一条命令中的所有 xx 替换为 yy，但只打印不执行</span><br></pre></td></tr></table></figure>

<h2 id="EOF快捷键"><a href="#EOF快捷键" class="headerlink" title="EOF快捷键"></a>EOF快捷键</h2><h3 id="不用快捷键"><a href="#不用快捷键" class="headerlink" title="不用快捷键"></a>不用快捷键</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt;&gt; /tmp/test &lt;&lt;<span class="string">EOF    ##Begin Mark</span></span><br><span class="line"><span class="string">type </span></span><br><span class="line"><span class="string">content </span></span><br><span class="line"><span class="string">here</span></span><br><span class="line"><span class="string">EOF</span>                       <span class="comment">##End of File</span></span><br></pre></td></tr></table></figure>

<h3 id="使用快捷键"><a href="#使用快捷键" class="headerlink" title="使用快捷键"></a>使用快捷键</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt;&gt; /tmp/test &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">type content here</span></span><br><span class="line"><span class="string">[Ctrl-D]               ## Use Ctrl-D as End of File</span></span><br></pre></td></tr></table></figure>

<h2 id="上条命令的最后一个参数"><a href="#上条命令的最后一个参数" class="headerlink" title="上条命令的最后一个参数"></a>上条命令的最后一个参数</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> /tmp/a-very-long-file-name.txt</span><br><span class="line"><span class="built_in">chmod</span> u+x [Alt+.]       <span class="comment">## 自动添加上一条命令的最后一个参数（不起作用）</span></span><br><span class="line"><span class="built_in">chmod</span> u+x [<span class="built_in">shift</span>+alt+_] <span class="comment">## shift-alt-_ 三键同时按下会填充上一条命令的最后一个参数</span></span><br></pre></td></tr></table></figure>

<h1 id="设置-prompt"><a href="#设置-prompt" class="headerlink" title="设置 prompt"></a>设置 prompt</h1><p><code>%&#123;\e[X;Y;Zm%&#125;</code>	表示定义开始颜色，其中的 X 代表前景色 Y 代表背景色 Z 代表颜色深度，一般可省略</p>
<p><code>%&#123;\e[m%&#125;</code>	表示当前颜色结束</p>
<p>颜色列表可以通过 <code>man tcsh</code> 命令，在结果中搜索 <code>cyan</code>，或任意已知名字的颜色单词</p>
<p>提示符中变量的定义可以通过 <code>man tcsh</code> 命令，在结果中搜索 <code>%/</code>查看</p>
<h1 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h1><h2 id="0-到任意多个任意字符"><a href="#0-到任意多个任意字符" class="headerlink" title="0 到任意多个任意字符"></a>0 到任意多个任意字符</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*</span><br></pre></td></tr></table></figure>

<h2 id="一个任意字符"><a href="#一个任意字符" class="headerlink" title="一个任意字符"></a>一个任意字符</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">？</span><br></pre></td></tr></table></figure>

<h2 id="自定义字符集"><a href="#自定义字符集" class="headerlink" title="自定义字符集"></a>自定义字符集</h2><p>表示一定有一个在括号内的字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[abcd]  ## 表示abcd中任意一个字符</span><br></pre></td></tr></table></figure>

<h2 id="范围内字符"><a href="#范围内字符" class="headerlink" title="范围内字符"></a>范围内字符</h2><p>表示 <code>a-z/0-9</code> 中任意一个字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[a-z0-9]</span><br></pre></td></tr></table></figure>

<h2 id="反向选择"><a href="#反向选择" class="headerlink" title="反向选择"></a>反向选择</h2><p>表示不是 <code>abc</code> 三个字符中的其他任意一个字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[^abc]</span><br></pre></td></tr></table></figure>

<h2 id="逻辑或"><a href="#逻辑或" class="headerlink" title="逻辑或"></a>逻辑或</h2><p>使用花括号包围，逗号分隔</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;str1, str2&#125;</span><br><span class="line">ls &#123;rf,sram&#125;_*/VERILOG/*[^pwr].v</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/Guoshaocheng/image_hosting/master/img1589781183714.png" alt="1589781183714"></p>
<h1 id="alias-参数"><a href="#alias-参数" class="headerlink" title="alias 参数"></a>alias 参数</h1><p><code>csh</code> 中不能自定义函数，所以只能用 <code>alias</code> 曲线救国；</p>
<p><code>alias</code> 的参数：</p>
<p>由于 <code>!</code> 是特殊字符，所以需要前面的 <code>\</code> 进行转义。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">\!:1 - 表示第一个参数</span><br><span class="line"></span><br><span class="line">\!$ 或</span><br><span class="line">\!:$ - 表示最后一个参数</span><br><span class="line"></span><br><span class="line">\!* 或</span><br><span class="line">\!:* - 表示所有的参数</span><br></pre></td></tr></table></figure>

<h2 id="find-命令"><a href="#find-命令" class="headerlink" title="find 命令"></a>find 命令</h2><p>使用 <code>alias</code> 的方式暂时无法做到在 <code>find</code> 的参数前后都加上 <code>*</code> .</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias find &#x27;\find . -name &quot;\!:1&quot; &#x27;</span><br></pre></td></tr></table></figure>

<h1 id="csh-脚本参数"><a href="#csh-脚本参数" class="headerlink" title="csh 脚本参数"></a>csh 脚本参数</h1><h3 id="与-bash-兼容的方式"><a href="#与-bash-兼容的方式" class="headerlink" title="与 bash 兼容的方式"></a>与 bash 兼容的方式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$0</span> - 表示当前脚本的文件名</span><br><span class="line"></span><br><span class="line"><span class="variable">$1</span> - 表示第一个参数</span><br><span class="line"></span><br><span class="line"><span class="variable">$#</span> - 表示参数个数</span><br></pre></td></tr></table></figure>

<h3 id="argv-列表方式"><a href="#argv-列表方式" class="headerlink" title="argv 列表方式"></a>argv 列表方式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$argv</span>[1]      - 表示第一个参数</span><br><span class="line"><span class="variable">$argv</span>[<span class="variable">$#argv</span>] - 表示最后一个参数</span><br><span class="line"><span class="variable">$#argv</span>        - 表示参数个数</span><br></pre></td></tr></table></figure>

<h1 id="lazy-find-脚本"><a href="#lazy-find-脚本" class="headerlink" title="lazy_find 脚本"></a>lazy_find 脚本</h1><p>该脚本实现了在 <code>find</code> 的参数前后都加上 <code>*</code>，从而实现 <code>lazy find</code> .</p>
<p>脚本内容如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/csh -f</span></span><br><span class="line"></span><br><span class="line">find . -name &quot;*$1*&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 或者</span></span></span><br><span class="line">find . -name &quot;*$argv[1]*&quot;</span><br></pre></td></tr></table></figure>

<p>在 cshrc 中配置如下，当在命令行执行 <code>lf sth</code>，相当于执行 <code>find . -name *sth*</code> .</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> lf   <span class="string">&#x27;~/pin/lazy_find.csh&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="ls-命令"><a href="#ls-命令" class="headerlink" title="ls 命令"></a>ls 命令</h1><h3 id="显示文件绝对路径"><a href="#显示文件绝对路径" class="headerlink" title="显示文件绝对路径"></a>显示文件绝对路径</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> `<span class="built_in">pwd</span>`/*</span><br></pre></td></tr></table></figure>

<h1 id="2-1"><a href="#2-1" class="headerlink" title="2&gt;&amp;1"></a>2&gt;&amp;1</h1><p>在shell脚本中，有三个默认的文件描述符0，1，2，分别表示标准输入，标准输出，标准错误。</p>
<p>在重定向符号之前，可以直接使用0，1，2表示标准输入，标准输出，标准错误；</p>
<p>在重定向符号之后，则需要使用&amp;0, &amp;1, &amp;2表示标准输入，标准输出，标准错误。</p>
<h1 id="tee-命令"><a href="#tee-命令" class="headerlink" title="tee 命令"></a>tee 命令</h1><p><code>-a</code> 表示对后面的文件追加，而不是覆盖；</p>
<p><code>-i</code> 表示忽略中断信号</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run_vcs | <span class="built_in">tee</span> -ai vcs.log</span><br></pre></td></tr></table></figure>

<h1 id="sort-命令"><a href="#sort-命令" class="headerlink" title="sort 命令"></a>sort 命令</h1><p>TODO</p>
<h1 id="touch-命令"><a href="#touch-命令" class="headerlink" title="touch 命令"></a>touch 命令</h1><h2 id="时间参数"><a href="#时间参数" class="headerlink" title="时间参数"></a>时间参数</h2><p>可以通过 stat 命令查看</p>
<ul>
<li>访问时间（Access Time，简称 atime）：只要文件的内容被读取，访问时间就会更新。例如，使用 cat 命令可以查看文件的内容，此时文件的访问时间就会发生改变。</li>
<li>数据修改时间（Modify Time，简称 mtime）：当文件的内容数据发生改变，此文件的数据修改时间就会跟着相应改变。</li>
<li>状态修改时间（Change Time，简称 ctime）：当文件的状态发生变化，就会相应改变这个时间。比如说，如果文件的权限或者属性发生改变，此时间就会相应改变。</li>
</ul>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><blockquote>
<p>-a 或–time&#x3D;atime或–time&#x3D;access或–time&#x3D;use 　只更改存取时间。<br>-c：仅修改文件的时间参数（3 个时间参数都改变），如果文件不存在，则不建立新文件。<br>-d  使用指定的日期时间，而非现在的时间。<br>-m 或–time&#x3D;mtime或–time&#x3D;modify 　只更改变动时间。<br>-r  把指定文档或目录的日期时间，统统设成和参考文档或目录的日期时间相同。<br>-t  使用指定的日期时间，而非现在的时间。</p>
</blockquote>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch -r test.txt test2.txt</span><br><span class="line">touch -t 201605171210.20 test.txt</span><br><span class="line"> \[\[CC\]YY\]MMDDhhmm\[.SS\] </span><br></pre></td></tr></table></figure>

<p>其中：</p>
<ul>
<li>CC为年数中的前两位，即”世纪数”；</li>
<li>YY为年数的后两位，即某世纪中的年数．如果不给出CC的值，则touch将把年数CCYY限定在1969–2068之内．</li>
<li>MM为月数，</li>
<li>DD为天将</li>
<li>hh 为小时数(几点)，</li>
<li>mm为分钟数，</li>
<li>SS为秒数．此处秒的设定范围是0–61，这样可以处理闰秒</li>
<li>由于系统的限制，早于1970年1月1日的时间是错误的。</li>
</ul>
<h1 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h1><h2 id="showkey"><a href="#showkey" class="headerlink" title="showkey"></a>showkey</h2><p>查看按键的终端输入，和对应的ASCII编码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">showkey -a</span><br></pre></td></tr></table></figure>

<h2 id="复制目录结构"><a href="#复制目录结构" class="headerlink" title="复制目录结构"></a>复制目录结构</h2><p>复制时同时复制目录的文件结构：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp --parents  ## 保持目录结构复制</span><br></pre></td></tr></table></figure>

<h2 id="删除软链接目录"><a href="#删除软链接目录" class="headerlink" title="删除软链接目录"></a>删除软链接目录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -rf dir_link   ## 只删除软链接</span><br><span class="line">rm -rf dir_link/  ## 删除原目录</span><br></pre></td></tr></table></figure>

<h2 id="生成16进制随机数"><a href="#生成16进制随机数" class="headerlink" title="生成16进制随机数"></a>生成16进制随机数</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tr</span> -<span class="built_in">cd</span> <span class="string">&#x27;[:xdigit:]&#x27;</span> &lt; /dev/urandom | <span class="built_in">head</span> -c 32</span><br></pre></td></tr></table></figure>

<h2 id="删除-ANSI-Escape-Code"><a href="#删除-ANSI-Escape-Code" class="headerlink" title="删除 ANSI Escape Code"></a>删除 ANSI Escape Code</h2><blockquote>
<p>通过 [ANSI Escape Code] 可以让终端上的输出更加华丽醒目，但是另一方面又让在脚本中抓取内容变得困难。</p>
</blockquote>
<p>灰色的 ^[ 符号产生方式是：先按下 ctrl-v，再按下 esc；<br>灰色的 ^M 符号产生方式是：先按下 ctrl-v，再按下 enter；<br>剩下的白色的都是正常的字符，可以直接输入字符进行匹配；</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="http://www.embeddedlinux.org.cn/html/xinshourumen/201602/02-5021.html">embeddedlinux</a></p>
<p><a target="_blank" rel="noopener" href="https://linuxtoy.org/archives/bash-shortcuts.html">让你提升命令行效率的 Bash 快捷键</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/06/25/shell/" data-id="cm6ub6cbd000o040rayzn0uyy" data-title="shell 相关" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shell/" rel="tag">shell</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/02/07/gcc/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Neuer</strong>
      <div class="article-nav-title">
        
          GCC 工具链
        
      </div>
    </a>
  
  
    <a href="/2020/06/25/vim/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Älter</strong>
      <div class="article-nav-title">vim 用法</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C%E8%AF%AD%E8%A8%80/">C语言</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%87%E5%BF%98/">备忘</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/awk/" rel="tag">awk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c%E8%AF%AD%E8%A8%80/" rel="tag">c语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/find/" rel="tag">find</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grep/" rel="tag">grep</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/perl/" rel="tag">perl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/perl-one-line/" rel="tag">perl_one_line</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sed/" rel="tag">sed</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/awk/" style="font-size: 10px;">awk</a> <a href="/tags/c%E8%AF%AD%E8%A8%80/" style="font-size: 15px;">c语言</a> <a href="/tags/find/" style="font-size: 10px;">find</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/grep/" style="font-size: 10px;">grep</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/perl/" style="font-size: 10px;">perl</a> <a href="/tags/perl-one-line/" style="font-size: 10px;">perl_one_line</a> <a href="/tags/sed/" style="font-size: 10px;">sed</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">February 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/02/07/hexo/">hexo常用指令</a>
          </li>
        
          <li>
            <a href="/2025/02/07/%E6%95%B0%E7%BB%84%E4%B8%8E%E6%8C%87%E9%92%88/">数组与指针</a>
          </li>
        
          <li>
            <a href="/2025/02/07/%E5%8F%98%E9%87%8F/">C 语言变量</a>
          </li>
        
          <li>
            <a href="/2025/02/07/gcc/">GCC 工具链</a>
          </li>
        
          <li>
            <a href="/2020/06/25/shell/">shell 相关</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 guoshaocheng<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>